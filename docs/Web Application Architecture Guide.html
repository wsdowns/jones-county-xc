<!DOCTYPE html>
<!-- saved from url=(0063)file:///Users/williamdowns/projects/web_architecture_guide.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Application Architecture Guide</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin: -20px -20px 40px -20px;
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        h2 {
            color: #667eea;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
            font-size: 1.8em;
        }

        h3 {
            color: #764ba2;
            margin-top: 30px;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        h4 {
            color: #555;
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        ul, ol {
            margin-left: 30px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
        }

        .diagram-container {
            background: #f9f9f9;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
            text-align: center;
        }

        .diagram-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
        }

        svg {
            max-width: 100%;
            height: auto;
        }

        .component-box {
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .component-box:hover {
            opacity: 0.8;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }

        pre code {
            background: transparent;
            color: #f8f8f2;
            padding: 0;
        }

        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
            border-radius: 4px;
        }

        .note {
            background: #d1ecf1;
            padding: 15px;
            border-left: 4px solid #17a2b8;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warning {
            background: #f8d7da;
            padding: 15px;
            border-left: 4px solid #dc3545;
            margin: 20px 0;
            border-radius: 4px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background: #667eea;
            color: white;
        }

        tr:nth-child(even) {
            background: #f9f9f9;
        }

        .toc {
            background: #f0f0f0;
            padding: 20px;
            border-radius: 8px;
            margin: 30px 0;
        }

        .toc h3 {
            margin-top: 0;
            color: #667eea;
        }

        .toc ul {
            list-style: none;
            margin-left: 0;
        }

        .toc a {
            color: #667eea;
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Understanding Modern Web Applications</h1>
            <p style="font-size: 1.2em; margin-top: 10px;">A Complete Guide to React, Go, MySQL, sqlc, NGINX, AWS Lightsail, and GitHub</p>
        </header>

        <section id="introduction">
            <h2>Introduction</h2>
            <p>Modern web applications are built from multiple components that work together seamlessly. This guide explains how each piece fits into the puzzle and how they communicate with each other. We'll explore the architecture of a full-stack application using real-world examples from the Jones County Cross Country project.</p>

            <div class="highlight">
                <strong>What's New:</strong> This updated guide now includes <strong>MySQL database integration</strong> with <strong>sqlc</strong> for type-safe queries, replacing the hardcoded static data approach. You'll learn how persistent data storage transforms your application from a prototype to a production-ready system.
            </div>
        </section>

        <div class="toc">
            <h3>Table of Contents</h3>
            <ul>
                <li><a href="file:///Users/williamdowns/projects/web_architecture_guide.html#system-overview">System Overview</a></li>
                <li><a href="file:///Users/williamdowns/projects/web_architecture_guide.html#components">The Components Explained</a></li>
                <li><a href="file:///Users/williamdowns/projects/web_architecture_guide.html#data-flow">How It All Works Together</a></li>
                <li><a href="file:///Users/williamdowns/projects/web_architecture_guide.html#database">Database Architecture</a></li>
                <li><a href="file:///Users/williamdowns/projects/web_architecture_guide.html#development">Development Workflow</a></li>
                <li><a href="file:///Users/williamdowns/projects/web_architecture_guide.html#troubleshooting">Common Issues and Solutions</a></li>
            </ul>
        </div>

        <section id="system-overview">
            <h2>System Overview</h2>
            <p>Here's how all the components connect in a modern full-stack web application:</p>

            <div class="diagram-container">
                <div class="diagram-title">Complete System Architecture</div>
                <svg viewBox="0 0 800 900" xmlns="http://www.w3.org/2000/svg">
                    <!-- User/Browser -->
                    <g class="component-box">
                        <rect x="300" y="20" width="200" height="80" fill="#4CAF50" rx="5" stroke="#2E7D32" stroke-width="2"></rect>
                        <text x="400" y="50" text-anchor="middle" fill="white" font-size="16" font-weight="bold">User's Browser</text>
                        <text x="400" y="70" text-anchor="middle" fill="white" font-size="14">React Application</text>
                        <text x="400" y="88" text-anchor="middle" fill="white" font-size="12">Runs Client-Side</text>
                    </g>

                    <!-- Arrow to NGINX -->
                    <path d="M 400 100 L 400 160" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path>
                    <text x="420" y="135" font-size="12" fill="#666">HTTPS Request</text>

                    <!-- NGINX -->
                    <g class="component-box">
                        <rect x="300" y="160" width="200" height="80" fill="#009688" rx="5" stroke="#00695C" stroke-width="2"></rect>
                        <text x="400" y="190" text-anchor="middle" fill="white" font-size="16" font-weight="bold">NGINX</text>
                        <text x="400" y="210" text-anchor="middle" fill="white" font-size="14">Reverse Proxy</text>
                        <text x="400" y="228" text-anchor="middle" fill="white" font-size="12">Routes Traffic</text>
                    </g>

                    <!-- Arrow to Go Backend -->
                    <path d="M 500 200 L 580 200 L 580 320 L 500 320" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path>
                    <text x="590" y="265" font-size="12" fill="#666">/api/* requests</text>

                    <!-- Arrow to Static Files -->
                    <path d="M 300 200 L 220 200 L 220 320 L 300 320" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path>
                    <text x="120" y="265" font-size="12" fill="#666">Static files (HTML/JS/CSS)</text>

                    <!-- Go Backend -->
                    <g class="component-box">
                        <rect x="300" y="320" width="200" height="100" fill="#00BCD4" rx="5" stroke="#0097A7" stroke-width="2"></rect>
                        <text x="400" y="350" text-anchor="middle" fill="white" font-size="16" font-weight="bold">Go Backend (Gin)</text>
                        <text x="400" y="370" text-anchor="middle" fill="white" font-size="14">API Server</text>
                        <text x="400" y="388" text-anchor="middle" fill="white" font-size="12">Port 8080</text>
                        <text x="400" y="408" text-anchor="middle" fill="white" font-size="12">Business Logic</text>
                    </g>

                    <!-- Arrow to sqlc -->
                    <path d="M 400 420 L 400 480" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path>
                    <text x="420" y="455" font-size="12" fill="#666">Type-safe queries</text>

                    <!-- sqlc Layer -->
                    <g class="component-box">
                        <rect x="300" y="480" width="200" height="80" fill="#FF9800" rx="5" stroke="#F57C00" stroke-width="2"></rect>
                        <text x="400" y="510" text-anchor="middle" fill="white" font-size="16" font-weight="bold">sqlc</text>
                        <text x="400" y="530" text-anchor="middle" fill="white" font-size="14">Query Generator</text>
                        <text x="400" y="548" text-anchor="middle" fill="white" font-size="12">Type-safe Database Access</text>
                    </g>

                    <!-- Arrow to MySQL -->
                    <path d="M 400 560 L 400 620" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)"></path>
                    <text x="420" y="595" font-size="12" fill="#666">SQL queries</text>

                    <!-- MySQL Database -->
                    <g class="component-box">
                        <rect x="300" y="620" width="200" height="100" fill="#3F51B5" rx="5" stroke="#303F9F" stroke-width="2"></rect>
                        <text x="400" y="650" text-anchor="middle" fill="white" font-size="16" font-weight="bold">MySQL Database</text>
                        <text x="400" y="670" text-anchor="middle" fill="white" font-size="14">Persistent Storage</text>
                        <text x="400" y="688" text-anchor="middle" fill="white" font-size="12">• Athletes</text>
                        <text x="400" y="706" text-anchor="middle" fill="white" font-size="12">• Meets • Results</text>
                    </g>

                    <!-- GitHub -->
                    <g class="component-box">
                        <rect x="50" y="400" width="180" height="80" fill="#24292e" rx="5" stroke="#000" stroke-width="2"></rect>
                        <text x="140" y="430" text-anchor="middle" fill="white" font-size="16" font-weight="bold">GitHub</text>
                        <text x="140" y="450" text-anchor="middle" fill="white" font-size="14">Source Control</text>
                        <text x="140" y="468" text-anchor="middle" fill="white" font-size="12">Version Management</text>
                    </g>

                    <!-- Arrow from GitHub to Go -->
                    <path d="M 230 440 L 300 380" stroke="#333" stroke-width="2" fill="none" marker-end="url(#arrowhead)" stroke-dasharray="5,5"></path>
                    <text x="240" y="405" font-size="12" fill="#666">Code Push/Pull</text>

                    <!-- AWS Lightsail Container -->
                    <rect x="270" y="140" width="260" height="600" fill="none" stroke="#FF9800" stroke-width="3" stroke-dasharray="10,5" rx="10"></rect>
                    <text x="400" y="750" text-anchor="middle" fill="#FF9800" font-size="14" font-weight="bold">AWS Lightsail Server</text>

                    <!-- Node.js (Development Only) -->
                    <g class="component-box">
                        <rect x="570" y="400" width="180" height="80" fill="#68A063" rx="5" stroke="#3C6E3C" stroke-width="2"></rect>
                        <text x="660" y="425" text-anchor="middle" fill="white" font-size="16" font-weight="bold">Node.js</text>
                        <text x="660" y="445" text-anchor="middle" fill="white" font-size="14">Build Tool</text>
                        <text x="660" y="463" text-anchor="middle" fill="white" font-size="12" font-style="italic">Development Only</text>
                    </g>

                    <!-- Arrow markers -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#333"></polygon>
                        </marker>
                    </defs>

                    <!-- Legend -->
                    <g transform="translate(50, 780)">
                        <text x="0" y="0" font-size="14" font-weight="bold" fill="#333">Legend:</text>
                        <rect x="0" y="10" width="20" height="20" fill="#4CAF50" rx="2"></rect>
                        <text x="25" y="25" font-size="12" fill="#666">Frontend (Client)</text>
                        <rect x="150" y="10" width="20" height="20" fill="#00BCD4" rx="2"></rect>
                        <text x="175" y="25" font-size="12" fill="#666">Backend (Server)</text>
                        <rect x="300" y="10" width="20" height="20" fill="#3F51B5" rx="2"></rect>
                        <text x="325" y="25" font-size="12" fill="#666">Database</text>
                        <rect x="450" y="10" width="20" height="20" fill="#009688" rx="2"></rect>
                        <text x="475" y="25" font-size="12" fill="#666">Infrastructure</text>
                    </g>
                </svg>
            </div>
        </section>

        <section id="components">
            <h2>The Components Explained</h2>

            <h3>1. React Frontend (The User Interface)</h3>
            <p><strong>What it is:</strong> React is a JavaScript library for building user interfaces. It creates the web pages that users see and interact with in their browser.</p>

            <p><strong>What it does:</strong></p>
            <ul>
                <li>Displays data to users (athlete lists, forms, buttons)</li>
                <li>Handles user interactions (clicks, form submissions)</li>
                <li>Makes requests to the backend API to fetch or save data</li>
                <li>Updates the page dynamically without full page reloads</li>
            </ul>

            <p><strong>How it's deployed:</strong> React code is "built" into static files (HTML, JavaScript, CSS) that are served directly by NGINX. These files run entirely in the user's browser.</p>

            <h3>2. Go Backend with Gin Framework (The API Server)</h3>
            <p><strong>What it is:</strong> Go is a programming language that runs on the server. Your Go application uses the Gin framework to create an API (Application Programming Interface) that the React frontend calls to get or save data.</p>

            <p><strong>What it does:</strong></p>
            <ul>
                <li>Handles requests to <code>/api/*</code> endpoints (like <code>/api/athletes</code>)</li>
                <li>Connects to the MySQL database using sqlc-generated code</li>
                <li>Validates data and enforces business rules</li>
                <li>Returns data in JSON format for the frontend to use</li>
            </ul>

            <div class="note">
                <strong>New in this version:</strong> The Go backend now uses <strong>sqlc</strong> instead of hardcoded data. This means all athlete, meet, and result data is stored in MySQL and survives server restarts.
            </div>

            <p><strong>Common endpoints from your project:</strong></p>
            <ul>
                <li><code>GET /api/athletes</code> - Returns list of all athletes</li>
                <li><code>GET /api/athletes/:id</code> - Returns a specific athlete</li>
                <li><code>GET /api/meets</code> - Returns list of all meets</li>
                <li><code>GET /api/meets/:id/results</code> - Returns results for a specific meet</li>
                <li><code>POST /api/results</code> - Creates a new race result</li>
                <li><code>GET /api/results/top10</code> - Returns top 10 fastest times</li>
            </ul>

            <h3>3. MySQL Database (Persistent Data Storage)</h3>
            <p><strong>What it is:</strong> MySQL is a relational database management system (RDBMS) that stores your application's data in structured tables.</p>

            <p><strong>What it does:</strong></p>
            <ul>
                <li>Stores data permanently (survives server restarts, code changes, crashes)</li>
                <li>Organizes data into tables with relationships (athletes, meets, results)</li>
                <li>Ensures data integrity with foreign keys and constraints</li>
                <li>Provides fast queries with indexes</li>
            </ul>

            <div class="diagram-container">
                <div class="diagram-title">Database Schema</div>
                <svg viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
                    <!-- Athletes Table -->
                    <g>
                        <rect x="50" y="50" width="200" height="180" fill="#E3F2FD" stroke="#1976D2" stroke-width="2" rx="5"></rect>
                        <rect x="50" y="50" width="200" height="30" fill="#1976D2" rx="5"></rect>
                        <text x="150" y="70" text-anchor="middle" fill="white" font-size="14" font-weight="bold">Athletes</text>

                        <text x="60" y="100" font-size="12" font-weight="bold">id</text>
                        <text x="200" y="100" text-anchor="end" font-size="11" fill="#666">INT (PK)</text>

                        <text x="60" y="120" font-size="12">name</text>
                        <text x="200" y="120" text-anchor="end" font-size="11" fill="#666">VARCHAR(100)</text>

                        <text x="60" y="140" font-size="12">grade</text>
                        <text x="200" y="140" text-anchor="end" font-size="11" fill="#666">INT</text>

                        <text x="60" y="160" font-size="12">personal_record</text>
                        <text x="200" y="160" text-anchor="end" font-size="11" fill="#666">VARCHAR(10)</text>

                        <text x="60" y="180" font-size="12">events</text>
                        <text x="200" y="180" text-anchor="end" font-size="11" fill="#666">VARCHAR(255)</text>

                        <text x="60" y="200" font-size="11" fill="#888">created_at</text>
                        <text x="60" y="215" font-size="11" fill="#888">updated_at</text>
                    </g>

                    <!-- Meets Table -->
                    <g>
                        <rect x="550" y="50" width="200" height="180" fill="#E8F5E9" stroke="#388E3C" stroke-width="2" rx="5"></rect>
                        <rect x="550" y="50" width="200" height="30" fill="#388E3C" rx="5"></rect>
                        <text x="650" y="70" text-anchor="middle" fill="white" font-size="14" font-weight="bold">Meets</text>

                        <text x="560" y="100" font-size="12" font-weight="bold">id</text>
                        <text x="700" y="100" text-anchor="end" font-size="11" fill="#666">INT (PK)</text>

                        <text x="560" y="120" font-size="12">name</text>
                        <text x="700" y="120" text-anchor="end" font-size="11" fill="#666">VARCHAR(100)</text>

                        <text x="560" y="140" font-size="12">date</text>
                        <text x="700" y="140" text-anchor="end" font-size="11" fill="#666">DATE</text>

                        <text x="560" y="160" font-size="12">location</text>
                        <text x="700" y="160" text-anchor="end" font-size="11" fill="#666">VARCHAR(100)</text>

                        <text x="560" y="180" font-size="12">description</text>
                        <text x="700" y="180" text-anchor="end" font-size="11" fill="#666">TEXT</text>

                        <text x="560" y="200" font-size="11" fill="#888">created_at</text>
                        <text x="560" y="215" font-size="11" fill="#888">updated_at</text>
                    </g>

                    <!-- Results Table -->
                    <g>
                        <rect x="300" y="280" width="200" height="160" fill="#FFF3E0" stroke="#F57C00" stroke-width="2" rx="5"></rect>
                        <rect x="300" y="280" width="200" height="30" fill="#F57C00" rx="5"></rect>
                        <text x="400" y="300" text-anchor="middle" fill="white" font-size="14" font-weight="bold">Results</text>

                        <text x="310" y="330" font-size="12" font-weight="bold">id</text>
                        <text x="450" y="330" text-anchor="end" font-size="11" fill="#666">INT (PK)</text>

                        <text x="310" y="350" font-size="12" font-weight="bold">athlete_id</text>
                        <text x="450" y="350" text-anchor="end" font-size="11" fill="#666">INT (FK)</text>

                        <text x="310" y="370" font-size="12" font-weight="bold">meet_id</text>
                        <text x="450" y="370" text-anchor="end" font-size="11" fill="#666">INT (FK)</text>

                        <text x="310" y="390" font-size="12">time</text>
                        <text x="450" y="390" text-anchor="end" font-size="11" fill="#666">VARCHAR(10)</text>

                        <text x="310" y="410" font-size="12">place</text>
                        <text x="450" y="410" text-anchor="end" font-size="11" fill="#666">INT</text>

                        <text x="310" y="425" font-size="11" fill="#888">created_at</text>
                    </g>

                    <!-- Relationships -->
                    <path d="M 150 230 L 350 280" stroke="#F57C00" stroke-width="2" fill="none" marker-end="url(#fk-arrow)"></path>
                    <text x="220" y="250" font-size="11" fill="#F57C00">athlete_id</text>

                    <path d="M 650 230 L 450 280" stroke="#F57C00" stroke-width="2" fill="none" marker-end="url(#fk-arrow)"></path>
                    <text x="580" y="250" font-size="11" fill="#F57C00">meet_id</text>

                    <defs>
                        <marker id="fk-arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#F57C00"></polygon>
                        </marker>
                    </defs>
                </svg>
            </div>

            <p><strong>Database tables in your project:</strong></p>
            <table>
                <thead>
                    <tr>
                        <th>Table</th>
                        <th>Purpose</th>
                        <th>Key Fields</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>athletes</strong></td>
                        <td>Stores athlete information</td>
                        <td>id, name, grade, personal_record, events</td>
                    </tr>
                    <tr>
                        <td><strong>meets</strong></td>
                        <td>Stores meet/race information</td>
                        <td>id, name, date, location, description</td>
                    </tr>
                    <tr>
                        <td><strong>results</strong></td>
                        <td>Links athletes to meets with race results</td>
                        <td>id, athlete_id (FK), meet_id (FK), time, place</td>
                    </tr>
                </tbody>
            </table>

            <h3>4. sqlc (Type-Safe Query Generator)</h3>
            <p><strong>What it is:</strong> sqlc is a tool that generates type-safe Go code from SQL queries. It ensures your Go code and database schema stay in sync.</p>

            <p><strong>What it does:</strong></p>
            <ul>
                <li>Reads your SQL schema and queries</li>
                <li>Generates Go structs that match your database tables</li>
                <li>Creates Go functions for each SQL query you write</li>
                <li>Provides compile-time safety (catch errors before runtime)</li>
            </ul>

            <div class="note">
                <strong>Why sqlc?</strong> Instead of writing raw SQL strings in Go and manually mapping results to structs, sqlc automates this process and catches errors at compile time. If you rename a database column, your code won't compile until you fix all references.
            </div>

            <p><strong>Example sqlc workflow:</strong></p>
            <pre><code>-- queries.sql: You write SQL
-- name: GetAllAthletes :many
SELECT * FROM athletes ORDER BY grade, name;

-- name: CreateResult :execresult
INSERT INTO results (athlete_id, meet_id, time, place)
VALUES (?, ?, ?, ?);</code></pre>

            <pre><code>// sqlc generates Go code:
func (q *Queries) GetAllAthletes(ctx context.Context) ([]Athlete, error)
func (q *Queries) CreateResult(ctx context.Context, arg CreateResultParams) (sql.Result, error)</code></pre>

            <h3>5. Node.js (The Build Tool &amp; Development Environment)</h3>
            <p><strong>What it is:</strong> Node.js is a JavaScript runtime that lets you run JavaScript outside the browser. It's the foundation for modern frontend development tools.</p>

            <p><strong>What it does:</strong></p>
            <ul>
                <li>Runs the React development server (fast refresh, hot reload)</li>
                <li>Manages packages via npm (Node Package Manager)</li>
                <li>Builds production files (bundles, minifies, optimizes)</li>
                <li>Compiles JSX (React's HTML-in-JavaScript syntax) to regular JavaScript</li>
            </ul>

            <div class="warning">
                <strong>IMPORTANT:</strong> Node.js runs during <em>development</em> and <em>build time</em> only. It does <strong>NOT</strong> run on your production server. Only the static files it creates are deployed.
            </div>

            <h3>6. NGINX (The Traffic Director)</h3>
            <p><strong>What it is:</strong> NGINX is a web server and reverse proxy. Think of it as the front door and traffic cop for your application.</p>

            <p><strong>What it does:</strong></p>
            <ul>
                <li>Receives ALL incoming requests from users' browsers</li>
                <li>Handles SSL/TLS certificates (HTTPS encryption)</li>
                <li>Routes API requests (<code>/api/*</code>) to the Go backend</li>
                <li>Serves React static files directly for page requests</li>
                <li>Handles CORS (Cross-Origin Resource Sharing) configuration</li>
            </ul>

            <h3>7. AWS Lightsail (The Server)</h3>
            <p><strong>What it is:</strong> AWS Lightsail is Amazon's cloud hosting service. It provides a virtual private server (VPS) where your application runs.</p>

            <p><strong>What it provides:</strong></p>
            <ul>
                <li>A Linux server (usually Ubuntu) running 24/7</li>
                <li>A public IP address so users can reach your site</li>
                <li>CPU, memory, and storage resources</li>
                <li>Networking (firewall, load balancing)</li>
                <li>Backups and snapshots</li>
            </ul>

            <h3>8. GitHub (The Source Code Hub)</h3>
            <p><strong>What it is:</strong> GitHub is a platform for storing and managing your source code using Git version control.</p>

            <p><strong>What it provides:</strong></p>
            <ul>
                <li>Version control (track every change to your code)</li>
                <li>Collaboration features (pull requests, code review)</li>
                <li>CI/CD pipelines (GitHub Actions for automated testing/deployment)</li>
                <li>Backup of your entire codebase</li>
            </ul>
        </section>

        <section id="data-flow">
            <h2>How It All Works Together</h2>

            <div class="diagram-container">
                <div class="diagram-title">Complete Request Flow</div>
                <svg viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
                    <!-- Flow Steps -->
                    <!-- Step 1: User -->
                    <g>
                        <circle cx="100" cy="50" r="30" fill="#4CAF50" stroke="#2E7D32" stroke-width="2"></circle>
                        <text x="100" y="55" text-anchor="middle" fill="white" font-size="20" font-weight="bold">1</text>
                        <text x="150" y="55" font-size="14">User enters URL</text>
                    </g>
                    <path d="M 100 80 L 100 130" stroke="#333" stroke-width="2" marker-end="url(#arrow2)"></path>

                    <!-- Step 2: NGINX -->
                    <g>
                        <circle cx="100" cy="150" r="30" fill="#009688" stroke="#00695C" stroke-width="2"></circle>
                        <text x="100" y="155" text-anchor="middle" fill="white" font-size="20" font-weight="bold">2</text>
                        <text x="150" y="155" font-size="14">NGINX receives request</text>
                    </g>

                    <!-- Branch to Static Files -->
                    <path d="M 70 150 L 20 200 L 20 250" stroke="#333" stroke-width="2" marker-end="url(#arrow2)"></path>
                    <text x="25" y="180" font-size="11" fill="#666">Static</text>
                    <g>
                        <circle cx="20" cy="270" r="20" fill="#FF9800" stroke="#F57C00" stroke-width="2"></circle>
                        <text x="20" y="275" text-anchor="middle" fill="white" font-size="16" font-weight="bold">3a</text>
                        <text x="50" y="275" font-size="12">Serve React files</text>
                    </g>

                    <!-- Branch to API -->
                    <path d="M 130 150 L 180 200 L 180 250" stroke="#333" stroke-width="2" marker-end="url(#arrow2)"></path>
                    <text x="165" y="180" font-size="11" fill="#666">API</text>
                    <g>
                        <circle cx="180" cy="270" r="20" fill="#00BCD4" stroke="#0097A7" stroke-width="2"></circle>
                        <text x="180" y="275" text-anchor="middle" fill="white" font-size="16" font-weight="bold">3b</text>
                        <text x="210" y="275" font-size="12">Forward to Go backend</text>
                    </g>

                    <!-- Step 4: Go Backend Processing -->
                    <path d="M 180 290 L 180 340" stroke="#333" stroke-width="2" marker-end="url(#arrow2)"></path>
                    <g>
                        <circle cx="180" cy="360" r="20" fill="#00BCD4" stroke="#0097A7" stroke-width="2"></circle>
                        <text x="180" y="365" text-anchor="middle" fill="white" font-size="16" font-weight="bold">4</text>
                        <text x="210" y="365" font-size="12">Go processes request</text>
                    </g>

                    <!-- Step 5: sqlc Query -->
                    <path d="M 180 380 L 180 430" stroke="#333" stroke-width="2" marker-end="url(#arrow2)"></path>
                    <g>
                        <circle cx="180" cy="450" r="20" fill="#FF9800" stroke="#F57C00" stroke-width="2"></circle>
                        <text x="180" y="455" text-anchor="middle" fill="white" font-size="16" font-weight="bold">5</text>
                        <text x="210" y="455" font-size="12">Execute sqlc query</text>
                    </g>

                    <!-- Step 6: MySQL -->
                    <path d="M 180 470 L 180 520" stroke="#333" stroke-width="2" marker-end="url(#arrow2)"></path>
                    <g>
                        <circle cx="180" cy="540" r="20" fill="#3F51B5" stroke="#303F9F" stroke-width="2"></circle>
                        <text x="180" y="545" text-anchor="middle" fill="white" font-size="16" font-weight="bold">6</text>
                        <text x="210" y="545" font-size="12">Query MySQL database</text>
                    </g>

                    <!-- Return path -->
                    <path d="M 200 540 L 250 540 L 250 360 L 200 360" stroke="#28a745" stroke-width="2" marker-end="url(#arrow-green)" stroke-dasharray="5,5"></path>
                    <text x="260" y="450" font-size="11" fill="#28a745">Returns data</text>

                    <g>
                        <circle cx="180" cy="620" r="20" fill="#28a745" stroke="#1e7e34" stroke-width="2"></circle>
                        <text x="180" y="625" text-anchor="middle" fill="white" font-size="16" font-weight="bold">7</text>
                        <text x="210" y="625" font-size="12">JSON response to React</text>
                    </g>
                    <path d="M 180 560 L 180 600" stroke="#28a745" stroke-width="2" marker-end="url(#arrow-green)" stroke-dasharray="5,5"></path>

                    <!-- Code Examples -->
                    <g transform="translate(350, 50)">
                        <text x="0" y="0" font-size="14" font-weight="bold" fill="#333">Example: Get Athletes List</text>

                        <rect x="0" y="10" width="500" height="180" fill="#f8f9fa" stroke="#ddd" stroke-width="1" rx="5"></rect>

                        <text x="10" y="30" font-size="12" fill="#666" font-weight="bold">1. React Frontend:</text>
                        <text x="10" y="48" font-size="11" font-family="monospace" fill="#333">const response = await fetch('/api/athletes');</text>
                        <text x="10" y="63" font-size="11" font-family="monospace" fill="#333">const athletes = await response.json();</text>

                        <text x="10" y="85" font-size="12" fill="#666" font-weight="bold">2. Go Backend (main.go):</text>
                        <text x="10" y="103" font-size="11" font-family="monospace" fill="#333">func getAthletesHandler(c *gin.Context) {</text>
                        <text x="10" y="118" font-size="11" font-family="monospace" fill="#333">  athletes, err := queries.GetAllAthletes(ctx)</text>
                        <text x="10" y="133" font-size="11" font-family="monospace" fill="#333">  c.JSON(http.StatusOK, athletes)</text>
                        <text x="10" y="148" font-size="11" font-family="monospace" fill="#333">}</text>

                        <text x="10" y="170" font-size="12" fill="#666" font-weight="bold">3. MySQL Query (via sqlc):</text>
                        <text x="10" y="188" font-size="11" font-family="monospace" fill="#333">SELECT * FROM athletes ORDER BY grade, name;</text>
                    </g>

                    <defs>
                        <marker id="arrow2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#333"></polygon>
                        </marker>
                        <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                            <polygon points="0 0, 10 3, 0 6" fill="#28a745"></polygon>
                        </marker>
                    </defs>
                </svg>
            </div>

            <h3>Detailed Example: Loading the Athletes Page</h3>
            <ol>
                <li><strong>Browser requests:</strong> <code>https://yourdomain.com/athletes</code></li>
                <li><strong>NGINX receives request</strong>
                    <ul>
                        <li>Path is <code>/athletes</code> (not <code>/api/*</code>)</li>
                        <li>Serves: <code>/var/www/app/frontend/build/index.html</code></li>
                    </ul>
                </li>
                <li><strong>Browser loads React app</strong>
                    <ul>
                        <li>React router sees <code>/athletes</code> path</li>
                        <li>Athletes component mounts</li>
                        <li>Component calls: <code>fetch('/api/athletes')</code></li>
                    </ul>
                </li>
                <li><strong>Browser makes new request:</strong> <code>/api/athletes</code></li>
                <li><strong>NGINX receives API request</strong>
                    <ul>
                        <li>Path starts with <code>/api/</code></li>
                        <li>Forwards to: <code>http://localhost:8080/api/athletes</code></li>
                    </ul>
                </li>
                <li><strong>Go backend receives request</strong>
                    <ul>
                        <li>Calls sqlc-generated function: <code>queries.GetAllAthletes(ctx)</code></li>
                        <li>sqlc executes: <code>SELECT * FROM athletes ORDER BY grade, name</code></li>
                        <li>MySQL returns rows</li>
                        <li>sqlc maps rows to Go structs</li>
                        <li>Go formats as JSON and returns</li>
                    </ul>
                </li>
                <li><strong>React receives JSON</strong>
                    <ul>
                        <li>Updates component state</li>
                        <li>Renders athlete list in browser</li>
                    </ul>
                </li>
            </ol>
        </section>

        <section id="database">
            <h2>Database Architecture Deep Dive</h2>

            <h3>From Static Data to Persistent Storage</h3>
            <p>Your application has evolved from hardcoded data to a real database. Here's what changed:</p>

            <table>
                <thead>
                    <tr>
                        <th>Aspect</th>
                        <th>Before (Static)</th>
                        <th>After (Database)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Data Location</strong></td>
                        <td>Go variables in <code>main.go</code></td>
                        <td>MySQL database tables</td>
                    </tr>
                    <tr>
                        <td><strong>Persistence</strong></td>
                        <td>Lost on restart</td>
                        <td>Survives restarts/crashes</td>
                    </tr>
                    <tr>
                        <td><strong>Data Access</strong></td>
                        <td>Direct variable access</td>
                        <td>SQL queries via sqlc</td>
                    </tr>
                    <tr>
                        <td><strong>Updates</strong></td>
                        <td>Requires code changes</td>
                        <td>Dynamic via API</td>
                    </tr>
                    <tr>
                        <td><strong>Relationships</strong></td>
                        <td>Manual ID matching</td>
                        <td>Foreign keys with constraints</td>
                    </tr>
                    <tr>
                        <td><strong>Scalability</strong></td>
                        <td>Limited by memory</td>
                        <td>Scales with disk/DB server</td>
                    </tr>
                </tbody>
            </table>

            <h3>Understanding Relationships</h3>
            <p>The database uses <strong>foreign keys</strong> to create relationships between tables:</p>

            <ul>
                <li><strong>One-to-Many:</strong> One athlete can have many results (one row in <code>athletes</code> relates to many rows in <code>results</code>)</li>
                <li><strong>One-to-Many:</strong> One meet can have many results (one row in <code>meets</code> relates to many rows in <code>results</code>)</li>
                <li><strong>Many-to-Many:</strong> Athletes and meets are connected through the <code>results</code> table (junction table pattern)</li>
            </ul>

            <div class="note">
                <strong>Foreign Key Benefits:</strong>
                <ul>
                    <li><strong>Data Integrity:</strong> Can't create a result for a non-existent athlete or meet</li>
                    <li><strong>Cascade Deletes:</strong> When an athlete is deleted, all their results are automatically removed</li>
                    <li><strong>Efficient Queries:</strong> Indexes on foreign keys speed up JOIN operations</li>
                </ul>
            </div>

            <h3>Example Queries</h3>
            <p>Here are some powerful queries enabled by the relational structure:</p>

            <pre><code>-- Get all results for a specific meet with athlete names
SELECT r.*, a.name as athlete_name, a.grade
FROM results r
JOIN athletes a ON r.athlete_id = a.id
WHERE r.meet_id = 1
ORDER BY r.place;

-- Get top 10 fastest times across all meets
SELECT r.*, a.name, a.grade, m.name as meet_name, m.date
FROM results r
JOIN athletes a ON r.athlete_id = a.id
JOIN meets m ON r.meet_id = m.id
ORDER BY r.time ASC
LIMIT 10;

-- Count results per athlete
SELECT a.name, COUNT(r.id) as race_count
FROM athletes a
LEFT JOIN results r ON a.id = r.athlete_id
GROUP BY a.id, a.name
ORDER BY race_count DESC;</code></pre>
        </section>

        <section id="development">
            <h2>Development Workflow</h2>

            <div class="diagram-container">
                <div class="diagram-title">Development vs Production Environments</div>
                <svg viewBox="0 0 900 500" xmlns="http://www.w3.org/2000/svg">
                    <!-- Development Environment -->
                    <g>
                        <rect x="50" y="50" width="350" height="180" fill="#E8F5E9" stroke="#4CAF50" stroke-width="3" rx="10"></rect>
                        <text x="225" y="80" text-anchor="middle" font-size="18" font-weight="bold" fill="#2E7D32">Development (Local)</text>

                        <rect x="70" y="100" width="140" height="60" fill="#81C784" rx="5"></rect>
                        <text x="140" y="125" text-anchor="middle" fill="white" font-weight="bold">Node.js</text>
                        <text x="140" y="143" text-anchor="middle" fill="white" font-size="12">npm start</text>
                        <text x="140" y="158" text-anchor="middle" fill="white" font-size="11">localhost:5173</text>

                        <rect x="240" y="100" width="140" height="60" fill="#64B5F6" rx="5"></rect>
                        <text x="310" y="125" text-anchor="middle" fill="white" font-weight="bold">Go Backend</text>
                        <text x="310" y="143" text-anchor="middle" fill="white" font-size="12">go run main.go</text>
                        <text x="310" y="158" text-anchor="middle" fill="white" font-size="11">localhost:8080</text>

                        <rect x="155" y="180" width="140" height="40" fill="#9FA8DA" rx="5"></rect>
                        <text x="225" y="205" text-anchor="middle" fill="white" font-weight="bold">MySQL (Local)</text>
                    </g>

                    <!-- Production Environment -->
                    <g>
                        <rect x="500" y="50" width="350" height="180" fill="#FFF3E0" stroke="#FF9800" stroke-width="3" rx="10"></rect>
                        <text x="675" y="80" text-anchor="middle" font-size="18" font-weight="bold" fill="#E65100">Production (Lightsail)</text>

                        <rect x="520" y="100" width="140" height="60" fill="#FF9800" rx="5"></rect>
                        <text x="590" y="125" text-anchor="middle" fill="white" font-weight="bold">NGINX</text>
                        <text x="590" y="143" text-anchor="middle" fill="white" font-size="12">Static files</text>
                        <text x="590" y="158" text-anchor="middle" fill="white" font-size="11">Port 80/443</text>

                        <rect x="690" y="100" width="140" height="60" fill="#FF6F00" rx="5"></rect>
                        <text x="760" y="125" text-anchor="middle" fill="white" font-weight="bold">Go Binary</text>
                        <text x="760" y="143" text-anchor="middle" fill="white" font-size="12">Compiled</text>
                        <text x="760" y="158" text-anchor="middle" fill="white" font-size="11">Port 8080</text>

                        <rect x="605" y="180" width="140" height="40" fill="#5C6BC0" rx="5"></rect>
                        <text x="675" y="205" text-anchor="middle" fill="white" font-weight="bold">MySQL Server</text>
                    </g>

                    <!-- Build Process Arrow -->
                    <path d="M 225 250 L 675 250" stroke="#333" stroke-width="3" fill="none" marker-end="url(#build-arrow)"></path>
                    <rect x="380" y="230" width="140" height="40" fill="#673AB7" rx="5"></rect>
                    <text x="450" y="255" text-anchor="middle" fill="white" font-weight="bold">Build &amp; Deploy</text>

                    <!-- Steps -->
                    <g transform="translate(50, 300)">
                        <text x="0" y="0" font-size="16" font-weight="bold" fill="#333">Deployment Steps:</text>
                        <text x="0" y="25" font-size="13" fill="#666">1. <tspan font-family="monospace">npm run build</tspan> → Creates optimized static files</text>
                        <text x="0" y="48" font-size="13" fill="#666">2. <tspan font-family="monospace">go build</tspan> → Compiles Go binary</text>
                        <text x="0" y="71" font-size="13" fill="#666">3. <tspan font-family="monospace">git push</tspan> → Commit to GitHub</text>
                        <text x="0" y="94" font-size="13" fill="#666">4. Upload files to Lightsail</text>
                        <text x="0" y="117" font-size="13" fill="#666">5. <tspan font-family="monospace">systemctl restart</tspan> → Restart services</text>
                    </g>

                    <defs>
                        <marker id="build-arrow" markerWidth="12" markerHeight="12" refX="10" refY="4" orient="auto">
                            <polygon points="0 0, 12 4, 0 8" fill="#333"></polygon>
                        </marker>
                    </defs>
                </svg>
            </div>

            <h3>Local Development Setup</h3>
            <ol>
                <li><strong>Initial setup:</strong>
                    <ul>
                        <li><code>npm install</code> - Download frontend dependencies</li>
                        <li><code>go mod download</code> - Download Go dependencies</li>
                        <li>Set up MySQL database locally</li>
                        <li>Run <code>schema.sql</code> to create tables</li>
                    </ul>
                </li>
                <li><strong>Start development servers:</strong>
                    <ul>
                        <li><code>npm start</code> - React dev server (localhost:5173)</li>
                        <li><code>go run main.go</code> - Go API server (localhost:8080)</li>
                        <li>MySQL should be running in background</li>
                    </ul>
                </li>
                <li><strong>Make changes:</strong>
                    <ul>
                        <li>React auto-reloads when you save files</li>
                        <li>Go requires manual restart (or use tools like <code>air</code> for auto-reload)</li>
                        <li>Database schema changes require migration scripts</li>
                    </ul>
                </li>
                <li><strong>Test locally:</strong>
                    <ul>
                        <li>Visit localhost:5173 in browser</li>
                        <li>Use browser DevTools to inspect API calls</li>
                        <li>Check Go logs for backend errors</li>
                    </ul>
                </li>
            </ol>

            <h3>Production Deployment</h3>
            <ol>
                <li><strong>Build frontend:</strong> <code>npm run build</code></li>
                <li><strong>Build backend:</strong> <code>go build -o server</code></li>
                <li><strong>Commit changes:</strong> <code>git add . &amp;&amp; git commit &amp;&amp; git push</code></li>
                <li><strong>Deploy to Lightsail:</strong>
                    <ul>
                        <li>SSH into server</li>
                        <li>Pull latest code from GitHub</li>
                        <li>Copy build files to proper locations</li>
                        <li>Run database migrations if needed</li>
                        <li>Restart services: <code>systemctl restart go-app nginx</code></li>
                    </ul>
                </li>
                <li><strong>Verify:</strong> Test production URL</li>
            </ol>
        </section>

        <section id="troubleshooting">
            <h2>Common Issues and Solutions</h2>

            <h3>Database Connection Errors</h3>
            <div class="warning">
                <strong>Problem:</strong> "Failed to connect to database" or "Access denied"
                <br><br>
                <strong>Possible causes:</strong>
                <ul>
                    <li>MySQL isn't running</li>
                    <li>Wrong credentials in connection string</li>
                    <li>Database doesn't exist</li>
                    <li>Firewall blocking connection</li>
                </ul>
                <strong>Solution:</strong>
                <ul>
                    <li>Check MySQL status: <code>systemctl status mysql</code></li>
                    <li>Verify connection string in <code>main.go</code></li>
                    <li>Test connection: <code>mysql -u xcapp -p</code></li>
                    <li>Create database if missing: <code>CREATE DATABASE jones_county_xc;</code></li>
                </ul>
            </div>

            <h3>CORS Errors</h3>
            <div class="warning">
                <strong>Problem:</strong> "Access blocked by CORS policy"
                <br><br>
                <strong>Why it happens:</strong> During development, React (port 5173) and Go (port 8080) are on different origins. Browsers block this by default.
                <br><br>
                <strong>Solution:</strong> Configure CORS middleware in Go backend or use NGINX proxy even in development.
            </div>

            <h3>Empty API Responses</h3>
            <div class="warning">
                <strong>Problem:</strong> API returns 200 OK but empty data
                <br><br>
                <strong>Possible causes:</strong>
                <ul>
                    <li>Database tables are empty (no sample data)</li>
                    <li>SQL query has WHERE clause that matches nothing</li>
                    <li>JSON serialization issue in Go</li>
                </ul>
                <strong>Solution:</strong>
                <ul>
                    <li>Check database: <code>SELECT COUNT(*) FROM athletes;</code></li>
                    <li>Add logging to see query results in Go</li>
                    <li>Verify Go struct tags match database columns</li>
                </ul>
            </div>

            <h3>sqlc Generation Errors</h3>
            <div class="warning">
                <strong>Problem:</strong> "sqlc generate" fails with errors
                <br><br>
                <strong>Possible causes:</strong>
                <ul>
                    <li>SQL syntax errors in queries.sql</li>
                    <li>Schema doesn't match queries</li>
                    <li>Incorrect sqlc.yaml configuration</li>
                </ul>
                <strong>Solution:</strong>
                <ul>
                    <li>Test queries directly in MySQL first</li>
                    <li>Check query annotations (-- name: ...)</li>
                    <li>Verify schema.sql is up to date</li>
                    <li>Review sqlc error messages carefully</li>
                </ul>
            </div>
        </section>

        <section>
            <h2>Key Takeaways</h2>
            <ul>
                <li><strong>Separation of Concerns:</strong> React handles UI, Go handles business logic, MySQL stores data, sqlc bridges Go and MySQL, NGINX routes traffic, Lightsail provides infrastructure</li>
                <li><strong>Persistence Matters:</strong> Moving from static data to a database transforms your app from a demo to a production system</li>
                <li><strong>Type Safety:</strong> sqlc ensures your Go code and database schema stay in sync at compile time</li>
                <li><strong>Client-Server Model:</strong> React (client) runs in browser, Go (server) runs on Lightsail, MySQL stores persistent state</li>
                <li><strong>Build vs Runtime:</strong> Node.js is a development and build-time tool; it doesn't run in production</li>
                <li><strong>API-First Design:</strong> Well-defined API endpoints enable multiple frontend clients (web, mobile, etc.)</li>
            </ul>
        </section>

        <section>
            <h2>Conclusion</h2>
            <p>Modern full-stack web applications orchestrate multiple specialized technologies working in harmony. React creates dynamic user interfaces, Node.js powers the development workflow, Go provides efficient backend services, sqlc ensures type-safe database access, MySQL delivers persistent data storage, NGINX efficiently routes traffic, Lightsail offers scalable cloud hosting, and GitHub manages version control.</p>

            <p>The addition of a relational database transforms your application from a prototype with hardcoded data into a production-ready system capable of scaling with your users' needs. Understanding these architectural patterns—especially the relationships between components and the flow of data—empowers you to build, debug, and deploy sophisticated web applications with confidence.</p>

            <p>Keep this reference handy as you continue developing. The architecture patterns shown here apply to countless modern web applications, making this knowledge transferable across different projects and technology stacks.</p>
        </section>

        <footer style="margin-top: 60px; padding: 20px; background: #f0f0f0; text-align: center; border-top: 3px solid #667eea;">
            <p style="margin: 0; color: #666;">Created for the Jones County Cross Country Project</p>
            <p style="margin: 5px 0 0 0; color: #999; font-size: 0.9em;">Updated with MySQL, sqlc, and persistent data storage</p>
        </footer>
    </div>


</body></html>